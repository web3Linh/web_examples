<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 2.在页面中声明一个将要被vue所控制的DOM区域 -->
    <!-- 调用capitalize管道符方法 -->
    <div id="app">
        <!-- 连续调用多个过滤器 -->
        <p :title="info | capitalize">{{username | capitalize | maxLength}}</p>
    </div>

    <div id="app1">
        <p :title="info | capitalize">{{username | capitalize}}</p>
    </div>

    <!-- 1.导入vue.js的脚本文件 -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>

    <!-- 全局过滤器 -->
    <script>
        Vue.filter('capitalize',(str) => {
            return str.charAt(0).toUpperCase() + str.slice(1)
        })
    </script>

    <!-- 定义控制文本长度的过滤器 -->
    <script>
        Vue.filter('maxLength',(str) => {
            //如果文本长度小于等于十则返回原值，反之返回字符串前十位
            if(str.length <= 10) return str
            return str.slice(0,10) + '...'
        })
    </script>

    <script>
    //  3.创建vue实例对象 
    const vm = new Vue({
        // 3.1指定vue要控制页面的哪个区域
        el:'#app',
        // 指定Model数据源
        data:{
            username:'hello,zqx!',
            info:'title'
        },
        // 私有过滤器  
        // 在filters中声明capitalize方法
        filters:{
            //capitalize(str)接收str(字符串)
            capitalize(str){
                // 返回值：字符串的第一位转换为大写+字符串剩下的。。。
                return str.charAt(0).toUpperCase()+str.slice()
            }
        }
    })
    </script>

    <script>
    const vm1 = new Vue({
        el:'#app1',
        data:{  
            username:'hello,wnb!',
            info:'title'
        }
    })
    </script>
</body>
</html>